<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Admin Portal UI</title>
    <style>
      :root {
        --navy: #102a5c;
        --navy-dark: #0b1e43;
        --text: #1b2430;
        --muted: #6a7689;
        --line: #dce2eb;
        --panel: #f5f7fb;
        --white: #ffffff;
        --accent: #2158d8;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
        background: var(--panel);
        color: var(--text);
      }

      .top-bar {
        background: linear-gradient(0deg, var(--navy-dark), var(--navy));
        color: var(--white);
        min-height: 64px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 1.5rem;
        position: sticky;
        top: 0;
        z-index: 40;
      }

      .brand {
        font-weight: 700;
        letter-spacing: 0.02em;
      }

      .user-menu {
        position: relative;
      }

      .user-menu-button {
        appearance: none;
        border: none;
        background: transparent;
        color: var(--white);
        font-size: 0.95rem;
        font-weight: 600;
        padding: 0.15rem 0;
        cursor: pointer;
        line-height: 1.2;
      }

      .user-menu-button:hover,
      .user-menu-button:focus-visible {
        opacity: 0.82;
      }

      .dropdown {
        position: absolute;
        right: 0;
        top: calc(100% + 0.5rem);
        background: var(--white);
        color: var(--text);
        min-width: 200px;
        border-radius: 12px;
        box-shadow: 0 12px 40px rgba(10, 23, 50, 0.18);
        border: 1px solid var(--line);
        overflow: hidden;
        display: none;
      }

      .dropdown[hidden] {
        display: none;
      }

      .dropdown.open {
        display: block;
      }

      .dropdown button {
        width: 100%;
        border: none;
        background: transparent;
        text-align: left;
        padding: 0.75rem 0.9rem;
        cursor: pointer;
        color: inherit;
      }

      .dropdown button:hover {
        background: #f0f4fa;
      }

      .main-nav {
        background: var(--white);
        border-bottom: 1px solid var(--line);
        padding: 0 1rem;
        display: flex;
        align-items: center;
        gap: 0.25rem;
        overflow-x: auto;
      }

      .nav-item {
        border: none;
        background: transparent;
        color: var(--muted);
        font-size: 0.95rem;
        font-weight: 600;
        padding: 0.95rem 0.85rem;
        cursor: pointer;
        border-bottom: 3px solid transparent;
        white-space: nowrap;
      }

      .nav-item:hover {
        color: var(--text);
        background: #f7f9fc;
      }

      .nav-item.active {
        color: var(--accent);
        border-bottom-color: var(--accent);
      }

      main {
        width: 100%;
        margin: 0;
        padding: 0;
        background: var(--white);
        min-height: calc(100vh - 112px);
      }

      .page-shell {
        width: 100%;
        padding: 1.35rem 1.5rem 1.75rem;
        background: var(--white);
      }

      .page-title {
        margin: 0;
        font-size: 1.45rem;
      }

      .page-subtitle {
        margin: 0.35rem 0 1rem;
        color: var(--muted);
      }

      .page-header {
        margin-bottom: 1rem;
      }

      .filter-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.95rem;
        margin-bottom: 1rem;
      }

      .field-group label {
        display: block;
        font-size: 0.85rem;
        font-weight: 600;
        color: #4b586b;
        margin-bottom: 0.4rem;
      }

      .text-input {
        width: 100%;
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 0.68rem 0.75rem;
        font-size: 0.95rem;
      }

      .table-wrap {
        border: 1px solid var(--line);
        border-radius: 12px;
        overflow-x: auto;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        min-width: 1180px;
      }

      thead th {
        font-size: 0.77rem;
        text-transform: uppercase;
        letter-spacing: 0.03em;
        color: var(--muted);
        background: #f8fbff;
      }

      th,
      td {
        text-align: left;
        padding: 0.75rem;
        border-bottom: 1px solid #ebeff5;
        white-space: nowrap;
      }

      tbody tr:hover {
        background: #fbfcff;
      }

      .account-link {
        color: var(--accent);
        text-decoration: none;
        font-weight: 600;
      }

      .account-link:hover {
        text-decoration: underline;
      }

      .actions-cell {
        position: relative;
      }

      .row-action-button {
        border: 1px solid #d5deec;
        background: #fff;
        border-radius: 8px;
        width: 34px;
        height: 32px;
        cursor: pointer;
        font-size: 1.1rem;
        line-height: 1;
        color: #4f5e76;
      }

      .row-action-menu {
        position: absolute;
        right: 0.65rem;
        top: calc(100% - 0.2rem);
        min-width: 220px;
        background: var(--white);
        border: 1px solid var(--line);
        border-radius: 10px;
        box-shadow: 0 12px 30px rgba(10, 23, 50, 0.15);
        overflow: hidden;
        z-index: 12;
        display: none;
      }

      .row-action-menu button {
        display: block;
        width: 100%;
        padding: 0.65rem 0.8rem;
        border: none;
        background: #fff;
        text-align: left;
        font-size: 0.9rem;
        cursor: pointer;
      }

      .row-action-menu button:hover {
        background: #f0f5ff;
      }

      .row-action-menu.open {
        display: block;
      }

      .pagination {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.8rem 0.2rem 0;
        color: var(--muted);
        font-size: 0.9rem;
      }

      .pagination-controls {
        display: flex;
        gap: 0.5rem;
      }

      .page-btn {
        border: 1px solid var(--line);
        background: #fff;
        border-radius: 8px;
        padding: 0.45rem 0.65rem;
        cursor: pointer;
      }

      .placeholder-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 0.85rem;
      }


      .compliance-subnav {
        display: flex;
        align-items: center;
        gap: 1.25rem;
        flex-wrap: wrap;
        border-bottom: 1px solid var(--line);
        margin: 0.2rem 0 1.1rem;
      }

      .compliance-subnav-item {
        border: none;
        background: transparent;
        color: var(--muted);
        font-size: 0.95rem;
        font-weight: 600;
        padding: 0.7rem 0.05rem;
        border-bottom: 3px solid transparent;
        cursor: pointer;
        margin-bottom: -1px;
      }

      .compliance-subnav-item:hover {
        color: var(--text);
      }

      .compliance-subnav-item.active {
        color: var(--accent);
        border-bottom-color: var(--accent);
      }

      .compliance-panel {
        border: 1px solid var(--line);
        border-radius: 12px;
        background: #f8fbff;
        padding: 1rem;
      }

      .compliance-panel h3 {
        margin: 0;
        font-size: 1.05rem;
      }

      .compliance-panel p {
        margin: 0.45rem 0 0;
        color: var(--muted);
      }



      .archive-toolbar {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 0.75rem;
        margin-bottom: 0.95rem;
      }

      .archive-summary {
        margin: 0 0 0.85rem;
        color: var(--muted);
        font-size: 0.9rem;
      }

      .archive-pill {
        display: inline-block;
        border-radius: 999px;
        padding: 0.2rem 0.55rem;
        font-size: 0.78rem;
        font-weight: 700;
      }

      .archive-pill.approved {
        color: #0f6a35;
        background: #dff7ea;
      }

      .archive-pill.rejected {
        color: #8d1428;
        background: #fde7eb;
      }

      .archive-link {
        color: var(--accent);
        text-decoration: none;
        font-weight: 600;
      }

      .archive-link:hover {
        text-decoration: underline;
      }

      .placeholder-card {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 0.9rem;
        background: #f8faff;
      }

      .placeholder-card h3 {
        margin: 0;
        font-size: 1rem;
      }

      .placeholder-card p {
        margin: 0.45rem 0 0;
        color: var(--muted);
      }

      @media (max-width: 900px) {
        .filter-row {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 640px) {
        .top-bar,
        .page-shell {
          padding-left: 0.85rem;
          padding-right: 0.85rem;
        }

        .brand {
          font-size: 0.95rem;
        }
      }
    </style>
  </head>
  <body>
    <header class="top-bar">
      <div class="brand">Project Admin Portal</div>
      <div class="user-menu">
        <button class="user-menu-button" id="userMenuButton" aria-expanded="false" aria-haspopup="true">jdoe_admin ▾</button>
        <div class="dropdown" id="userDropdown" role="menu" aria-label="User menu" hidden>
          <button type="button" role="menuitem">My Profile</button>
          <button type="button" role="menuitem">Preferences</button>
          <button type="button" role="menuitem">Sign Out</button>
        </div>
      </div>
    </header>

    <nav class="main-nav" aria-label="Primary">
      <button class="nav-item active" data-page="Accounts">Accounts</button>
      <button class="nav-item" data-page="Users">Users</button>
      <button class="nav-item" data-page="Compliance">Compliance</button>
      <button class="nav-item" data-page="Content">Content</button>
      <button class="nav-item" data-page="Websites">Websites</button>
      <button class="nav-item" data-page="Locator">Locator</button>
      <button class="nav-item" data-page="Video">Video</button>
      <button class="nav-item" data-page="Admin Tools">Admin Tools</button>
    </nav>

    <main>
      <section id="pageContainer" class="page-shell"></section>
    </main>

    <script>
      const navItems = document.querySelectorAll('.nav-item');
      const pageContainer = document.getElementById('pageContainer');
      const userMenuButton = document.getElementById('userMenuButton');
      const userDropdown = document.getElementById('userDropdown');
      const uiVersion = 'compliance-v2';

      document.body.setAttribute('data-ui-version', uiVersion);

      const accountRows = [
        {
          accountName: 'Northwind Retail Group',
          parentAccount: 'Global Commerce Holdings',
          subAccounts: 4,
          userCount: 58,
          ownerEmail: 'owner@northwind.com',
          createdOn: '2024-01-17'
        },
        {
          accountName: 'Summit Health Partners',
          parentAccount: 'Summit Enterprises',
          subAccounts: 2,
          userCount: 31,
          ownerEmail: 'admin@summithealth.com',
          createdOn: '2023-09-05'
        },
        {
          accountName: 'Blue Harbor Logistics',
          parentAccount: 'Blue Harbor Group',
          subAccounts: 7,
          userCount: 102,
          ownerEmail: 'ops@blueharbor.io',
          createdOn: '2022-11-28'
        },
        {
          accountName: 'Evergreen Academy',
          parentAccount: 'Evergreen Education Network',
          subAccounts: 3,
          userCount: 44,
          ownerEmail: 'support@evergreenacademy.edu',
          createdOn: '2024-04-10'
        }
      ];

      const placeholderSections = {
        Users: [
          ['User Directory', 'Browse users, roles, and status snapshots.'],
          ['Access Requests', 'Pending approvals for user permissions.'],
          ['Audit Trail', 'User login and privilege activity.']
        ],
        Content: [
          ['Publishing Queue', 'Track drafts, approvals, and publish states.'],
          ['Asset Library', 'Manage reusable media and documents.'],
          ['Editorial Notes', 'Capture collaboration notes and next steps.']
        ],
        Websites: [
          ['Site Health', 'Uptime and environment status indicators.'],
          ['Release History', 'Recent deployments and rollback options.'],
          ['Domain Settings', 'Placeholder controls for DNS and routing.']
        ],
        Locator: [
          ['Region Filters', 'Prototype controls to narrow location data.'],
          ['Map Panel', 'Reserved area for map visualization.'],
          ['Location Table', 'List of managed locations and tags.']
        ],
        Video: [
          ['Upload Queue', 'Monitor incoming video processing jobs.'],
          ['Channel Configuration', 'Manage playback targets and metadata.'],
          ['Compliance Checks', 'Track review status and quality gates.']
        ],
        'Admin Tools': [
          ['System Settings', 'Centralized admin-level configuration options.'],
          ['Job Scheduler', 'Control recurring maintenance automation.'],
          ['Permissions Matrix', 'Visualize and tune role-based access.']
        ]
      };



      const pageHeaderTitles = {
        Accounts: 'Account Management',
        Users: 'User Management',
        Compliance: 'Compliance',
        Content: 'Content Management',
        Websites: 'Website Management',
        Locator: 'Locator',
        Video: 'Video',
        'Admin Tools': 'Admin Tools'
      };

      const complianceTabs = [
        {
          name: 'Workflows',
          description: 'Review and configure compliance workflows for onboarding and policy checks.'
        },
        {
          name: 'Compliance Queue',
          description: 'Track pending compliance reviews, status updates, and assigned owners.'
        },
        {
          name: 'Advisor Queue',
          description: 'Monitor advisor requests requiring guidance, remediation, or escalation.'
        },
        {
          name: 'Archive',
          description: 'Access historical compliance records, completed tasks, and audit references.'
        }
      ];

      const defaultComplianceTab = 'Archive';

      const complianceArchiveRows = [
        {
          status: 'Approved',
          file_type: 'PDF',
          submitter_id: 'Ariana.Holt',
          approver_id: 'Derek.Mills',
          published_date: '2026-01-12',
          bas_account_id: 'BAS-West-114',
          wix_account_id: 'wix-91142',
          site_id: 'site-west-coast',
          website_id: 'West Coast Primary',
          revision: 'REV-4821',
          revision_url: 'https://example.com/revision/4821',
          diff_json: '{"header":"updated","hero":"copy-change"}'
        },
        {
          status: 'Rejected',
          file_type: '',
          submitter_id: 'Jordan.Kim',
          approver_id: 'Celine.Brooks',
          published_date: '2026-01-10',
          bas_account_id: 'BAS-East-332',
          wix_account_id: 'wix-22184',
          site_id: 'site-east-main',
          website_id: 'East Hub Website',
          revision: '',
          revision_url: '',
          diff_json: ''
        },
        {
          status: 'Approved',
          file_type: 'PDF',
          submitter_id: 'Nia.Patel',
          approver_id: 'Marco.Sloan',
          published_date: '2026-01-08',
          bas_account_id: 'BAS-Midwest-201',
          wix_account_id: 'wix-77109',
          site_id: 'site-midwest-core',
          website_id: 'Midwest Service Portal',
          revision: 'REV-4794',
          revision_url: 'https://example.com/revision/4794',
          diff_json: '{"footer":"policy-link"}'
        },
        {
          status: 'Rejected',
          file_type: '',
          submitter_id: 'Leo.Foster',
          approver_id: 'Celine.Brooks',
          published_date: '2026-01-06',
          bas_account_id: 'BAS-South-090',
          wix_account_id: 'wix-45002',
          site_id: 'site-south-ops',
          website_id: 'Southern Operations',
          revision: '',
          revision_url: '',
          diff_json: '{"notes":"missing legal disclaimer"}'
        },
        {
          status: 'Approved',
          file_type: 'PDF',
          submitter_id: 'Maya.Chen',
          approver_id: 'Derek.Mills',
          published_date: '2026-01-04',
          bas_account_id: 'BAS-North-512',
          wix_account_id: 'wix-88371',
          site_id: 'site-north-digital',
          website_id: 'Northern Digital HQ',
          revision: 'REV-4702',
          revision_url: 'https://example.com/revision/4702',
          diff_json: ''
        }
      ];

      function setUserMenuOpen(isOpen) {
        userDropdown.classList.toggle('open', isOpen);
        userDropdown.hidden = !isOpen;
        userMenuButton.setAttribute('aria-expanded', String(isOpen));
      }

      function closeAllRowMenus() {
        document.querySelectorAll('.row-action-menu.open').forEach((menu) => menu.classList.remove('open'));
      }

      function attachRowMenuEvents() {
        const rowButtons = document.querySelectorAll('.row-action-button');

        rowButtons.forEach((button) => {
          button.addEventListener('click', (event) => {
            event.stopPropagation();
            const targetMenu = button.nextElementSibling;
            const isOpen = targetMenu.classList.contains('open');
            closeAllRowMenus();
            if (!isOpen) {
              targetMenu.classList.add('open');
            }
          });
        });
      }

      function renderAccountsView() {
        const tableRows = accountRows
          .map(
            (row) => `
              <tr>
                <td><a class="account-link" href="#">${row.accountName}</a></td>
                <td>${row.parentAccount}</td>
                <td>${row.subAccounts}</td>
                <td>${row.userCount}</td>
                <td>${row.ownerEmail}</td>
                <td>${row.createdOn}</td>
                <td class="actions-cell">
                  <button class="row-action-button" aria-label="Open account actions">⋯</button>
                  <div class="row-action-menu" role="menu" aria-label="Row actions">
                    <button type="button">Edit account</button>
                    <button type="button">Add sub account</button>
                    <button type="button">Add user</button>
                    <button type="button">Bind site to account</button>
                  </div>
                </td>
              </tr>
            `
          )
          .join('');

        pageContainer.innerHTML = `
          <div class="page-header">
            <h1 class="page-title">Account Management</h1>
          </div>
          <div class="filter-row">
            <div class="field-group">
              <label for="accountSearch">Account Name</label>
              <input id="accountSearch" class="text-input" type="text" placeholder="Search by account" />
            </div>
            <div class="field-group">
              <label for="userSearch">User Search</label>
              <input id="userSearch" class="text-input" type="text" placeholder="Search by name or email address" />
            </div>
          </div>

          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>Account Name</th>
                  <th>Parent Account</th>
                  <th>Sub Accounts</th>
                  <th>User Count</th>
                  <th>Account Owner Email</th>
                  <th>Account Creation Date</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>${tableRows}</tbody>
            </table>
          </div>

          <div class="pagination">
            <span>Showing 1-4 of 42 accounts</span>
            <div class="pagination-controls">
              <button class="page-btn" type="button">Previous</button>
              <button class="page-btn" type="button">1</button>
              <button class="page-btn" type="button">2</button>
              <button class="page-btn" type="button">3</button>
              <button class="page-btn" type="button">Next</button>
            </div>
          </div>
        `;

        attachRowMenuEvents();
      }

      function renderPlaceholderView(sectionName) {
        const sectionCards = placeholderSections[sectionName] || [];
        const cards = sectionCards
          .map(([title, desc]) => `<article class="placeholder-card"><h3>${title}</h3><p>${desc}</p></article>`)
          .join('');

        const headerTitle = pageHeaderTitles[sectionName] || sectionName;

        pageContainer.innerHTML = `
          <div class="page-header">
            <h1 class="page-title">${headerTitle}</h1>
            <p class="page-subtitle">This section is ready for the next phase of UI buildout.</p>
          </div>
          <div class="placeholder-grid">${cards}</div>
        `;
      }

      function renderArchiveTableRows(filteredRows) {
        return filteredRows
          .map((row) => {
            const isApproved = row.status === 'Approved';
            const statusClass = isApproved ? 'approved' : 'rejected';
            const pdfCell = isApproved ? '<a href="#" class="archive-link">PDF</a>' : '—';
            const revisionCell = isApproved ? row.revision : '—';
            const revisionUrlCell = isApproved
              ? `<a href="${row.revision_url}" class="archive-link" target="_blank" rel="noopener noreferrer">Revision Link</a>`
              : '—';
            const diffCell = row.diff_json ? `<code>${row.diff_json}</code>` : '—';

            return `
              <tr>
                <td>${row.submitter_id}</td>
                <td>${row.approver_id}</td>
                <td>${row.published_date}</td>
                <td><span class="archive-pill ${statusClass}">${row.status}</span></td>
                <td>${row.website_id}</td>
                <td>${pdfCell}</td>
                <td>${row.bas_account_id}</td>
                <td>${row.wix_account_id}</td>
                <td>${row.site_id}</td>
                <td>${revisionCell}</td>
                <td>${revisionUrlCell}</td>
                <td>${diffCell}</td>
              </tr>
            `;
          })
          .join('');
      }

      function applyArchiveFilters() {
        const queryInput = document.getElementById('archiveSearchInput');
        const statusFilter = document.getElementById('archiveStatusFilter');
        const fileTypeFilter = document.getElementById('archiveFileTypeFilter');
        const tableBody = document.getElementById('archiveTableBody');
        const resultsSummary = document.getElementById('archiveResultsSummary');

        const query = queryInput.value.trim().toLowerCase();
        const selectedStatus = statusFilter.value;
        const selectedFileType = fileTypeFilter.value;

        const filteredRows = complianceArchiveRows.filter((row) => {
          const matchesQuery =
            !query ||
            row.submitter_id.toLowerCase().includes(query) ||
            row.approver_id.toLowerCase().includes(query) ||
            row.website_id.toLowerCase().includes(query) ||
            row.bas_account_id.toLowerCase().includes(query) ||
            row.wix_account_id.toLowerCase().includes(query) ||
            row.site_id.toLowerCase().includes(query);

          const matchesStatus = !selectedStatus || row.status === selectedStatus;
          const matchesFileType = !selectedFileType || row.file_type === selectedFileType;

          return matchesQuery && matchesStatus && matchesFileType;
        });

        tableBody.innerHTML = filteredRows.length
          ? renderArchiveTableRows(filteredRows)
          : '<tr><td colspan="12">No archive records match your filters.</td></tr>';

        resultsSummary.textContent = `Showing ${filteredRows.length} of ${complianceArchiveRows.length} compliance archive records`;
      }

      function attachArchiveFilterEvents() {
        const queryInput = document.getElementById('archiveSearchInput');
        const statusFilter = document.getElementById('archiveStatusFilter');
        const fileTypeFilter = document.getElementById('archiveFileTypeFilter');

        [queryInput, statusFilter, fileTypeFilter].forEach((element) => {
          element.addEventListener('input', applyArchiveFilters);
          element.addEventListener('change', applyArchiveFilters);
        });
      }

      function renderArchiveView() {
        const compliancePanel = document.getElementById('compliancePanel');
        compliancePanel.innerHTML = `
          <div class="page-header">
            <h2 class="page-title">Compliance Archive</h2>
            <p class="page-subtitle">Search approved and rejected compliance reviews. Approved records include richer publication metadata.</p>
          </div>

          <div class="archive-toolbar" aria-label="Archive search and filters">
            <div class="field-group">
              <label for="archiveSearchInput">Search archive records</label>
              <input id="archiveSearchInput" class="text-input" type="search" placeholder="Search submitter, approver, website, or account IDs" />
            </div>
            <div class="field-group">
              <label for="archiveStatusFilter">Status</label>
              <select id="archiveStatusFilter" class="text-input">
                <option value="">All statuses</option>
                <option value="Approved">Approved</option>
                <option value="Rejected">Rejected</option>
              </select>
            </div>
            <div class="field-group">
              <label for="archiveFileTypeFilter">File type</label>
              <select id="archiveFileTypeFilter" class="text-input">
                <option value="">All file types</option>
                <option value="PDF">PDF</option>
              </select>
            </div>
          </div>

          <p class="archive-summary" id="archiveResultsSummary"></p>

          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>Submitter ID</th>
                  <th>Approver ID</th>
                  <th>Published Date</th>
                  <th>Status</th>
                  <th>Website ID (Name)</th>
                  <th>File Type</th>
                  <th>BAS Account ID</th>
                  <th>Wix Account ID</th>
                  <th>Site ID</th>
                  <th>Revision</th>
                  <th>Revision URL</th>
                  <th>Diff JSON (Optional)</th>
                </tr>
              </thead>
              <tbody id="archiveTableBody"></tbody>
            </table>
          </div>
        `;

        attachArchiveFilterEvents();
        applyArchiveFilters();
      }

      function renderCompliancePanel(tabName) {
        if (tabName === 'Archive') {
          renderArchiveView();
          return;
        }

        const selectedTab = complianceTabs.find((tab) => tab.name === tabName) || complianceTabs[0];
        const compliancePanel = document.getElementById('compliancePanel');
        compliancePanel.innerHTML = `
          <h3>${selectedTab.name}</h3>
          <p>${selectedTab.description}</p>
        `;
      }

      function attachComplianceTabEvents() {
        const complianceSubnavItems = document.querySelectorAll('.compliance-subnav-item');

        complianceSubnavItems.forEach((item) => {
          item.addEventListener('click', () => {
            const selectedTabName = item.dataset.complianceTab;
            complianceSubnavItems.forEach((button) => {
              button.classList.toggle('active', button === item);
              button.setAttribute('aria-selected', String(button === item));
            });
            renderCompliancePanel(selectedTabName);
          });
        });
      }

      function renderComplianceView() {
        const subnavButtons = complianceTabs
          .map(
            (tab, index) => `
              <button
                class="compliance-subnav-item${tab.name === defaultComplianceTab ? ' active' : ''}"
                type="button"
                data-compliance-tab="${tab.name}"
                role="tab"
                aria-selected="${tab.name === defaultComplianceTab ? 'true' : 'false'}"
              >
                ${tab.name}
              </button>
            `
          )
          .join('');

        pageContainer.innerHTML = `
          <div class="page-header">
            <h1 class="page-title">Compliance</h1>
          </div>
          <div class="compliance-subnav" aria-label="Compliance sub navigation" role="tablist">
            ${subnavButtons}
          </div>
          <section class="compliance-panel" id="compliancePanel"></section>
        `;

        renderCompliancePanel(defaultComplianceTab);
        attachComplianceTabEvents();
      }

      function renderSection(sectionName) {
        closeAllRowMenus();
        if (sectionName === 'Accounts') {
          renderAccountsView();
          return;
        }
        if (sectionName === 'Compliance') {
          renderComplianceView();
          return;
        }
        renderPlaceholderView(sectionName);
      }

      navItems.forEach((button) => {
        button.addEventListener('click', () => {
          navItems.forEach((item) => item.classList.remove('active'));
          button.classList.add('active');
          renderSection(button.dataset.page);
        });
      });

      setUserMenuOpen(false);

      userMenuButton.addEventListener('click', () => {
        const isOpen = userMenuButton.getAttribute('aria-expanded') === 'true';
        setUserMenuOpen(!isOpen);
      });

      document.addEventListener('click', (event) => {
        if (!event.target.closest('.user-menu')) {
          setUserMenuOpen(false);
        }

        if (!event.target.closest('.actions-cell')) {
          closeAllRowMenus();
        }
      });

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          setUserMenuOpen(false);
          closeAllRowMenus();
        }
      });

      renderSection('Accounts');
    </script>
  </body>
</html>
